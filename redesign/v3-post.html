<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Container Queries Changed Everything</title>
		<link
			href="https://fonts.googleapis.com/css2?family=Fraunces:wght@300;600;800&family=Inter:wght@400;500;600&display=swap"
			rel="stylesheet"
		/>
		<style>
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}

			:root {
				--warm-bg: #faf6f1;
				--warm-bg-deep: #f0e8dd;
				--ink: #2c2420;
				--ink-light: #6b5d52;
				--accent: #b44d2d;
				--accent-hover: #943d22;
				--accent-soft: #e8c4b0;
				--border: #ddd2c5;
				--white: #ffffff;
				--font-display: 'Fraunces', Georgia, serif;
				--font-body: 'Inter', -apple-system, sans-serif;
			}

			html {
				background-color: var(--warm-bg);
				color: var(--ink);
				font-family: var(--font-body);
				font-size: 16px;
				line-height: 1.6;
			}

			body {
				background-color: var(--warm-bg);
			}

			/* Accent bar */
			.accent-bar {
				height: 0.5rem;
				background: var(--accent);
				position: fixed;
				top: 0;
				left: 0;
				right: 0;
				z-index: 100;
			}

			/* Header */
			header {
				margin-top: 0.5rem;
				max-width: 1100px;
				padding: 2rem 2rem 0;
				margin-left: auto;
				margin-right: auto;
				display: flex;
				justify-content: space-between;
				align-items: center;
			}

			.logo {
				font-family: var(--font-display);
				font-size: 1.25rem;
				font-weight: 800;
				letter-spacing: -0.02em;
				color: var(--ink);
				text-decoration: none;
			}

			nav {
				display: flex;
				gap: 2rem;
			}

			nav a {
				font-size: 0.9rem;
				font-weight: 500;
				color: var(--ink-light);
				text-decoration: none;
				transition: color 0.2s;
			}

			nav a:hover,
			nav a[aria-current='page'] {
				color: var(--accent);
			}

			/* Main content wrapper */
			main {
				padding-bottom: 2rem;
			}

			/* ─── Section Grid (shared pattern) ─── */
			.section-grid {
				max-width: 1100px;
				margin: 0 auto;
				padding: 0 2rem;
				display: grid;
				grid-template-columns: 200px 1fr;
				gap: 3rem;
			}

			.section-label {
				font-family: var(--font-display);
				font-size: 0.85rem;
				font-weight: 600;
				color: var(--accent);
				text-transform: uppercase;
				letter-spacing: 0.1em;
				padding-top: 0.3rem;
			}

			/* ─── Divider ─── */
			.divider {
				max-width: 1100px;
				margin: 0 auto;
				padding: 0 2rem;
			}

			.divider hr {
				border: none;
				border-top: 1px solid var(--border);
			}

			/* Post header section */
			.post-header {
				max-width: 1100px;
				margin: 0 auto;
				padding: 3rem 2rem 2rem;
			}

			.post-sidebar-meta {
				padding-top: 0.3rem;
			}

			.meta-date {
				font-size: 0.85rem;
				color: var(--ink-light);
				margin-bottom: 0.25rem;
			}

			.meta-read {
				font-size: 0.8rem;
				color: var(--ink-light);
				opacity: 0.7;
			}

			.sidebar-tags {
				display: flex;
				flex-wrap: wrap;
				gap: 0.4rem;
				margin-top: 1.25rem;
			}

			.sidebar-tags-label {
				width: 100%;
				font-family: var(--font-display);
				font-size: 0.85rem;
				font-weight: 600;
				color: var(--accent);
				text-transform: uppercase;
				letter-spacing: 0.1em;
				margin-bottom: 0.25rem;
			}

			.post-title {
				font-family: var(--font-display);
				font-size: clamp(2rem, 5vw, 2.8rem);
				font-weight: 800;
				letter-spacing: -0.03em;
				line-height: 1.15;
				margin-bottom: 0;
				color: var(--ink);
			}

			.tag {
				font-size: 0.75rem;
				font-weight: 500;
				padding: 3px 10px;
				background-color: var(--warm-bg-deep);
				color: var(--ink-light);
				border: 1px solid var(--border);
				border-radius: 20px;
				transition: all 0.2s;
				cursor: pointer;
			}

			.tag:hover {
				background-color: var(--accent);
				border-color: var(--accent);
				color: var(--white);
			}

			.tag-list {
				display: flex;
				gap: 0.75rem;
				flex-wrap: wrap;
			}

			/* Post body prose — in the content column of the grid */
			.post-body {
				max-width: 640px;
			}

			.post-body p {
				font-size: 1.1rem;
				line-height: 1.8;
				color: var(--ink);
				margin-bottom: 1.5rem;
			}

			.post-body h2 {
				font-family: var(--font-display);
				font-size: 1.5rem;
				font-weight: 600;
				letter-spacing: -0.02em;
				margin: 2.5rem 0 1rem;
				color: var(--ink);
			}

			.post-body blockquote {
				border-left: 3px solid var(--accent);
				padding-left: 1.5rem;
				margin: 2rem 0;
				font-style: italic;
				color: var(--ink-light);
			}

			.post-body pre {
				background-color: var(--warm-bg-deep);
				border: 1px solid var(--border);
				border-radius: 6px;
				padding: 1.25rem;
				overflow-x: auto;
				font-size: 0.88rem;
				font-family: 'SFMono-Regular', 'Consolas', monospace;
				line-height: 1.5;
				margin: 2rem 0;
				color: var(--ink);
			}

			/* Syntax highlighting — warm palette */
			.post-body pre .comment {
				color: #9b8e82;
				font-style: italic;
			}
			.post-body pre .property {
				color: var(--accent);
			}
			.post-body pre .value {
				color: #6b4c8a;
			}
			.post-body pre .selector {
				color: var(--ink);
				font-weight: 600;
			}
			.post-body pre .at-rule {
				color: #5b7a3a;
				font-weight: 600;
			}
			.post-body pre .punctuation {
				color: #9b8e82;
			}

			.post-body code {
				font-family: 'SFMono-Regular', 'Consolas', monospace;
				font-size: 0.88em;
				color: var(--ink-light);
			}

			.post-body p code,
			.post-body li code {
				background-color: rgba(0, 0, 0, 0.05);
				padding: 0.15em 0.4em;
				border-radius: 3px;
			}

			.post-body em {
				font-style: italic;
			}

			.post-body a {
				color: var(--accent);
				text-decoration: none;
				border-bottom: 1.5px solid var(--accent-soft);
				transition: border-color 0.2s;
			}

			.post-body a:hover {
				border-color: var(--accent);
			}

			/* Footer */
			footer {
				background: var(--ink);
				color: var(--warm-bg-deep);
				padding: 3rem 2rem;
			}

			.footer-inner {
				max-width: 1100px;
				margin: 0 auto;
				display: flex;
				justify-content: space-between;
				align-items: center;
				flex-wrap: wrap;
				gap: 1rem;
			}

			.footer-inner .copyright {
				font-size: 0.85rem;
				opacity: 0.6;
			}

			.footer-nav {
				display: flex;
				gap: 1.5rem;
			}

			.footer-nav a {
				font-size: 0.85rem;
				color: var(--warm-bg-deep);
				text-decoration: none;
				opacity: 0.6;
				transition: opacity 0.2s;
			}

			.footer-nav a:hover {
				opacity: 1;
			}

			/* Responsive */
			@media (max-width: 768px) {
				header {
					padding: 1.5rem 1rem 0;
					flex-direction: column;
					gap: 1.5rem;
				}

				nav {
					gap: 1rem;
				}

				.post-header {
					padding: 2rem 1.5rem;
				}

				.section-grid {
					grid-template-columns: 1fr;
					gap: 1rem;
					padding: 0 1.5rem;
				}

				.divider {
					padding: 0 1.5rem;
				}

				.post-body p {
					font-size: 1rem;
				}

				.post-body h2 {
					font-size: 1.3rem;
				}

				.post-title {
					font-size: clamp(1.75rem, 4vw, 2.3rem);
				}
			}
		</style>
	</head>
	<body>
		<div class="accent-bar" aria-hidden="true"></div>
		<header>
			<a href="#" class="logo">craveytrain</a>
			<nav>
				<a href="#">Now</a>
				<a href="#">Posts</a>
				<a href="#">Uses</a>
			</nav>
		</header>

		<main>
			<article>
				<section class="post-header">
					<h1 class="post-title">Container Queries Changed Everything</h1>
				</section>

				<div class="divider"><hr /></div>

				<div
					class="section-grid"
					style="padding-top: 2.5rem; padding-bottom: 2rem"
				>
					<div class="post-sidebar-meta">
						<div class="meta-date">March 14, 2024</div>
						<div class="meta-read">6 min read</div>
						<div class="sidebar-tags">
							<div class="sidebar-tags-label">Tagged</div>
							<span class="tag">CSS</span>
							<span class="tag">Web Platform</span>
							<span class="tag">Design</span>
						</div>
					</div>
					<section class="post-body">
						<p>
							For years we reached for media queries to make our layouts
							responsive. They got the job done, but they always felt like the
							wrong abstraction. We were asking "how wide is the viewport?" when
							the real question was "how much space does this component have?"
						</p>

						<p>
							Container queries flip that model entirely. A card component
							doesn't care whether it's on a phone or a 27-inch display — it
							cares whether it's sitting in a narrow sidebar or a wide main
							column. And now we can write CSS that responds to exactly that.
						</p>

						<h2>The mental shift</h2>

						<p>
							The biggest change isn't syntactic. It's philosophical. Container
							queries push you toward thinking in components rather than pages.
							Each piece of UI becomes self-contained, carrying its own
							responsive behavior with it.
						</p>

						<p>
							This has real implications for how we architect stylesheets.
							Instead of a single breakpoint file that orchestrates every layout
							shift across every component, the responsive logic lives with the
							component it describes:
						</p>

						<pre><code><span class="selector">.card-container</span> <span class="punctuation">{</span>
  <span class="property">container-type</span><span class="punctuation">:</span> <span class="value">inline-size</span><span class="punctuation">;</span>
<span class="punctuation">}</span>

<span class="at-rule">@container</span> <span class="punctuation">(</span><span class="property">min-width</span><span class="punctuation">:</span> <span class="value">400px</span><span class="punctuation">)</span> <span class="punctuation">{</span>
  <span class="selector">.card</span> <span class="punctuation">{</span>
    <span class="property">grid-template-columns</span><span class="punctuation">:</span> <span class="value">200px 1fr</span><span class="punctuation">;</span>
  <span class="punctuation">}</span>
<span class="punctuation">}</span></code></pre>

						<p>
							Compare that to the old approach, where you'd have a media query
							somewhere far away from the component's base styles, trying to
							coordinate a layout shift based on viewport width. The new version
							is <a href="#">local reasoning</a> at its finest.
						</p>

						<h2>What I've been refactoring</h2>

						<p>
							On this very site, I had a handful of components that used media
							queries as a proxy for "am I in a narrow context?" — the post list
							on the homepage, the now-teaser section, and the tag list on the
							posts page. All of them were really asking about their container,
							not the viewport.
						</p>

						<blockquote>
							The best CSS is the CSS that describes what you actually mean.
							Container queries let us say what we've always wanted to say.
						</blockquote>

						<p>
							Swapping them over took maybe an afternoon. The resulting CSS is
							shorter, more readable, and — critically — each component now
							works correctly regardless of where I drop it in the layout. No
							more "this card layout breaks if you move it from the main column
							to the sidebar."
						</p>

						<h2>Browser support</h2>

						<p>
							As of early 2024, container queries have excellent support across
							modern browsers. Chrome, Firefox, Safari, and Edge all ship with
							full support. If you're still holding off, there's no reason to
							wait. The <code>@container</code> at-rule is here to stay.
						</p>

						<p>
							If you need to support older browsers, a reasonable fallback
							strategy is to use media queries as a baseline and layer container
							queries on top with <code>@supports</code>. But honestly, for most
							projects in 2024, you can just use them.
						</p>

						<h2>The takeaway</h2>

						<p>
							Container queries aren't just a new feature — they represent a
							shift in how we think about responsive design. They move the
							responsive contract from the page level to the component level,
							which is where it always belonged.
						</p>

						<p>
							If you haven't tried them yet, pick one component in your project
							and refactor it. You'll feel the difference immediately.
						</p>
					</section>
				</div>
			</article>
		</main>

		<footer>
			<div class="footer-inner">
				<span class="copyright">&copy; 1999–2025 Mike Cravey</span>
				<div class="footer-nav">
					<a href="#">Colophon</a>
					<a href="#">RSS</a>
				</div>
			</div>
		</footer>
	</body>
</html>
