---
phase: 01-now-page-system
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - site/now/now.json
  - layouts/now.njk
  - site/now/index.md
autonomous: true

must_haves:
  truths:
    - 'User sees current now page at /now/ with visible date'
    - 'User sees 5 focus area sections (Work, Building, Learning, Reading, Life)'
    - 'User sees link to nownownow.com in intro text'
    - 'User sees Now link in site navigation'
  artifacts:
    - path: 'site/now/now.json'
      provides: 'Directory data for now collection'
      contains: 'override:tags'
    - path: 'layouts/now.njk'
      provides: 'Now page layout with date byline'
      contains: 'prettyDate'
    - path: 'site/now/index.md'
      provides: 'Current now page content'
      contains: 'eleventyNavigation'
  key_links:
    - from: 'site/now/index.md'
      to: 'layouts/now.njk'
      via: 'layout frontmatter'
      pattern: "layout:\\s*now"
    - from: 'site/now/index.md'
      to: 'collections.nav'
      via: 'tags frontmatter'
      pattern: 'tags:.*nav'
---

<objective>
Create the foundation for the now page system: directory structure, layout template, and initial now page content with site navigation integration.

Purpose: Establishes the now page as a first-class content type with proper date handling, collection tagging, and navigation presence. This is the foundation for the archive system in Plan 02.

Output: Working now page at `/now/` with date byline, 5 focus area sections, nownownow.com link, and visible in site navigation.
</objective>

<execution_context>
@/Users/mcravey/.claude/get-shit-done/workflows/execute-plan.md
@/Users/mcravey/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-now-page-system/01-CONTEXT.md
@.planning/phases/01-now-page-system/01-RESEARCH.md

Key existing files:
@layouts/page.njk
@site/posts/posts.json
@includes/header.njk
@site/about.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create now directory data and layout</name>
  <files>
    site/now/now.json
    layouts/now.njk
  </files>
  <action>
Create `site/now/now.json` directory data file:
- Set `layout: "now"` for all now pages
- Set `tags: ["now"]` for collection grouping
- Use `override:tags: ["now"]` to prevent data cascade merging (critical pitfall from research)
- Add `eleventyComputed.permalink` to generate dated URLs: `/now/{{ page.date | date: '%Y-%m-%d' }}.html`

Create `layouts/now.njk` extending page.njk:

- Add date byline near top using existing `prettyDate` filter: "As of {{ date | prettyDate }}"
- Use subtle styling (existing site styles, no custom CSS)
- Include content with `{{ content | safe }}`
- Add placeholder for archive link (will be connected in Plan 02)

CRITICAL: Use explicit `date` field in templates (from frontmatter), never filesystem dates.
</action>
<verify>
Run `npm run build` - build succeeds without errors.
Verify `site/now/now.json` contains `override:tags`.
Verify `layouts/now.njk` uses `prettyDate` filter.
</verify>
<done>
Directory data file sets layout, tags, and date-based permalink.
Layout extends page.njk with date byline.
</done>
</task>

<task type="auto">
  <name>Task 2: Create first now page with navigation</name>
  <files>
    site/now/index.md
  </files>
  <action>
Create `site/now/index.md` as the current now page content:

Frontmatter:

- `title: "What I'm Doing Now"`
- `date: 2026-02-06` (explicit date, today)
- `tags: nav` (adds to site navigation)
- `eleventyNavigation.key: "Now"`
- `eleventyNavigation.order: 0` (appears first in nav)
- `permalink: /now/` (override computed permalink for index)

Content structure:

1. Brief intro paragraph: "This is a [now page](https://nownownow.com/about). If you have your own site, you should make one too."
2. Five h2 sections: Work, Building, Learning, Reading, Life
3. Placeholder content for each section (user will fill in real content)

IMPORTANT: The permalink override `/now/` is essential so the index page appears at `/now/` instead of `/now/2026-02-06.html`. Individual archived versions will use the dated permalink.
</action>
<verify>
Run `npm run build` - build succeeds.
Run `npm run dev` and visit `http://localhost:8080/now/` - page renders with date byline.
Visit homepage - "Now" appears in navigation.
Click "Now" link - navigates to `/now/`.
</verify>
<done>
Now page renders at `/now/` with:

- Title "What I'm Doing Now"
- Date byline "As of Feb 6, 2026"
- Link to nownownow.com in intro
- Five focus area sections with headers
- "Now" visible in site navigation
  </done>
  </task>

</tasks>

<verification>
1. `npm run build` completes without errors
2. `http://localhost:8080/now/` displays the now page
3. Date byline shows correct format (e.g., "As of Feb 6, 2026")
4. Navigation includes "Now" link
5. nownownow.com link is present and clickable
6. All five section headers (Work, Building, Learning, Reading, Life) are visible
</verification>

<success_criteria>

- NOW-01: Now page displays its last-updated date from frontmatter [COVERED]
- NOW-02: Now page has 3-5 focus area sections [COVERED - 5 sections]
- NOW-03: Now page includes link to nownownow.com explanation [COVERED]
- NOW-04: Latest now content appears at `/now/` [COVERED - via permalink override]
- NOW-05: Each now update gets dated archive [PARTIAL - infrastructure ready, Plan 02 adds archive listing]

User can visit `/now/` and see current focus areas with visible last-updated date.
"Now" appears in site navigation.
</success_criteria>

<output>
After completion, create `.planning/phases/01-now-page-system/01-01-SUMMARY.md`
</output>
